var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=e.parcelRequire8995;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var a=r[e];delete r[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){r[e]=t},e.parcelRequire8995=a);var n=a("2shzp");const o=document.querySelector("#signupbox"),s=document.querySelector("#signinbox"),l=document.querySelector(".btn-in");document.querySelector(".btn-up").addEventListener("click",(()=>{o.style.display="block",s.style.display="none"})),l.addEventListener("click",(()=>{o.style.display="none",s.style.display="block"}));const u=document.querySelector("button.auth-close"),i=document.querySelector(".login-backdrop");u.addEventListener("click",(()=>{i.classList.add("is-hidden"),i.classList.add("full-close")}));const c=document.querySelector("form#signinform"),d=document.querySelector("form#signupform"),p=document.querySelector("[name=mailLogin]"),m=document.querySelector("[name=pswdLogin]"),y=document.querySelector("[name=nameSignup]"),v=document.querySelector("[name=emailSignup]"),f=document.querySelector("[name=pswdSignup]"),S=document.querySelector("[name=pswdSignupConf]"),g=document.querySelector(".errIn"),b=document.querySelector(".errUp"),w=()=>{g.textContent="",b.textContent=""},q=()=>{p.value="",m.value="",y.value="",v.value="",f.value="",S.value=""};w(),c.addEventListener("submit",(async e=>{if(e.preventDefault(),!p.value||!m.value)return;p.value.trim();const t=await(async(e,t)=>{if(e&&t)try{return await n.default.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyC9fG7Shg0PcLy-7vLSSNqMkxzduprzfqU",{email:e,password:t,returnSecureToken:!0})}catch(e){return e}})(p.value,m.value);if(200!=await t.status){const e=t.response.data.error.message.replaceAll("_"," ");return g.textContent=e,c.addEventListener("click",w),e.includes("EMAIL")&&p.classList.add("error-border"),console.log(e.includes("PASSWORD")),void(e.includes("PASSWORD")&&m.classList.add("error-border"))}200==(await(async()=>{try{return await n.default.get("https://filmoteks-users-base-default-rtdb.europe-west1.firebasedatabase.app/data.json")}catch(e){return e}})()).status&&(c.removeEventListener("click",w),w(),q(),document.location.href="./my-library.html")})),d.addEventListener("submit",(async e=>{if(e.preventDefault(),!v.value||!f.value)return;if(f.value!==S.value)return;p.value.trim();const t=await(async(e,t)=>{if(e&&t)try{return await n.default.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyC9fG7Shg0PcLy-7vLSSNqMkxzduprzfqU",{email:e,password:t,returnSecureToken:!0})}catch(e){return e}})(v.value,f.value);if(200!=await t.status){const e=t.response.data.error.message.replaceAll("_"," ");return b.textContent=e,void d.addEventListener("click",w)}const r={};r[v.value.replace("@","").replaceAll(".","")]={id:"",name:y.value,email:v.value,password:f.value};200==(await(async e=>{try{return await n.default.patch("https://filmoteks-users-base-default-rtdb.europe-west1.firebasedatabase.app/data.json",e)}catch(e){return e}})(r)).status&&(d.removeEventListener("click",w),w(),q())}));
//# sourceMappingURL=index.17ded0f1.js.map
