!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},n={},a=t.parcelRequire8995;null==a&&((a=function(e){if(e in r)return r[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return r[e]=a,t.call(a.exports,a,a.exports),a.exports}var u=new Error("Cannot find module '"+e+"'");throw u.code="MODULE_NOT_FOUND",u}).register=function(e,t){n[e]=t},t.parcelRequire8995=a);var u=a("bpxeT"),s=a("2TvXO"),o=a("dIxxU"),c=document.querySelector("#signupbox"),i=document.querySelector("#signinbox"),l=document.querySelector(".btn-in");document.querySelector(".btn-up").addEventListener("click",(function(){c.style.display="block",i.style.display="none"})),l.addEventListener("click",(function(){c.style.display="none",i.style.display="block"}));var p=document.querySelector("button.auth-close"),d=document.querySelector(".login-backdrop");p.addEventListener("click",(function(){d.classList.add("is-hidden"),d.classList.add("full-close")}));var f,v=document.querySelector("form#signinform"),m=document.querySelector("form#signupform"),b=(f=e(u)(e(s).mark((function t(r,n){var a,u;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyC9fG7Shg0PcLy-7vLSSNqMkxzduprzfqU",r&&n){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,o.default.post(a,{email:r,password:n,returnSecureToken:!0});case 6:return u=e.sent,e.abrupt("return",u);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),t,null,[[3,10]])}))),function(e,t){return f.apply(this,arguments)}),y=function(){var t=e(u)(e(s).mark((function t(r,n){var a,u;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyC9fG7Shg0PcLy-7vLSSNqMkxzduprzfqU",r&&n){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,o.default.post(a,{email:r,password:n,returnSecureToken:!0});case 6:return u=e.sent,e.abrupt("return",u);case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),t,null,[[3,10]])})));return function(e,r){return t.apply(this,arguments)}}(),x=function(){var t=e(u)(e(s).mark((function t(){var r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://filmoteks-users-base-default-rtdb.europe-west1.firebasedatabase.app/data.json",e.prev=1,e.next=4,o.default.get("https://filmoteks-users-base-default-rtdb.europe-west1.firebasedatabase.app/data.json");case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=e(u)(e(s).mark((function t(r){var n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://filmoteks-users-base-default-rtdb.europe-west1.firebasedatabase.app/data.json",e.prev=1,e.next=4,o.default.patch("https://filmoteks-users-base-default-rtdb.europe-west1.firebasedatabase.app/data.json",r);case 4:return n=e.sent,e.abrupt("return",n);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}(),S=document.querySelector("[name=mailLogin]"),h=document.querySelector("[name=pswdLogin]"),w=document.querySelector("[name=nameSignup]"),g=document.querySelector("[name=emailSignup]"),q=document.querySelector("[name=pswdSignup]"),L=document.querySelector("[name=pswdSignupConf]"),E=document.querySelector(".errIn"),A=document.querySelector(".errUp"),C=function(){E.textContent="",A.textContent=""},T=function(){S.value="",h.value="",w.value="",g.value="",q.value="",L.value=""};C(),v.addEventListener("submit",function(){var t=e(u)(e(s).mark((function t(r){var n,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),S.value&&h.value){e.next=3;break}return e.abrupt("return");case 3:return S.value.trim(),e.next=6,y(S.value,h.value);case 6:return n=e.sent,e.next=9,n.status;case 9:if(e.t0=e.sent,200==e.t0){e.next=18;break}return a=n.response.data.error.message.replaceAll("_"," "),E.textContent=a,v.addEventListener("click",C),a.includes("EMAIL")&&S.classList.add("error-border"),console.log(a.includes("PASSWORD")),a.includes("PASSWORD")&&h.classList.add("error-border"),e.abrupt("return");case 18:return e.next=20,x();case 20:200==e.sent.status&&(v.removeEventListener("click",C),C(),T(),document.location.href="./my-library.html");case 22:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),m.addEventListener("submit",function(){var t=e(u)(e(s).mark((function t(r){var n,a,u,o;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),g.value&&q.value){e.next=3;break}return e.abrupt("return");case 3:if(q.value===L.value){e.next=5;break}return e.abrupt("return");case 5:return S.value.trim(),e.next=8,b(g.value,q.value);case 8:return n=e.sent,e.next=11,n.status;case 11:if(e.t0=e.sent,200==e.t0){e.next=17;break}return a=n.response.data.error.message.replaceAll("_"," "),A.textContent=a,m.addEventListener("click",C),e.abrupt("return");case 17:return u=g.value.replace("@","").replaceAll(".",""),(o={})[u]={id:"",name:w.value,email:g.value,password:q.value},e.next=22,k(o);case 22:200==e.sent.status&&(m.removeEventListener("click",C),C(),T());case 24:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}();
//# sourceMappingURL=index.44a4f980.js.map
