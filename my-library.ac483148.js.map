{"mappings":"oeAAAA,EAAA,S,kECAA,IAAAC,EAAAD,EAAA,S,aAcA,MAAME,EAAO,CACTC,UAAWC,SAASC,cAAc,sBAClCC,WAAYF,SAASC,cAAc,0BACnCE,SAAUH,SAASC,cAAc,yBAgBrCG,eAAeC,IACXP,EAAKK,SAASG,oBAAoB,QAASD,GAC3CP,EAAKC,UAAUQ,UAAY,GAE3B,MAAMC,EAAeC,KAAKC,MAAMC,aAAaC,QAAQ,UACrD,GAAqB,OAAjBJ,GAAiD,IAAxBA,EAAaK,OAGtC,OAFAC,QAAQC,IAAI,qBACDjB,EAANI,WAAWc,iBAAiB,QAASC,GAc9C,MAAMC,EAAmBV,EAAaW,KAAIf,MAAOgB,IAC7C,MAAMC,QAAiB,EAAAC,EAAAC,YAAW1B,EAAA2B,cAAe3B,EAAA4B,iBAAkBL,EAAIvB,EAAA6B,SACjEC,QAAqBN,EAASO,KACpCd,QAAQC,IAAIY,GACZ,MAAME,EAAeF,EAAaG,OAAOX,KAAIY,GAAMA,EAAGC,OAAMC,KAAK,MAGjE,OADaC,EAASP,EAAcE,EACzB,IAGTM,QAAmBC,QAAQC,IAAInB,GACrCpB,EAAKC,UAAUuC,mBAAmB,YAAaH,EAAWF,KAAK,KAC/DnC,EAAKI,WAAWc,iBAAiB,QAASC,E,CAG9Cb,eAAea,IACXnB,EAAKI,WAAWI,oBAAoB,QAASW,GAC7CnB,EAAKC,UAAUQ,UAAY,GAE3B,MAAMgC,EAAiB9B,KAAKC,MAAMC,aAAaC,QAAQ,YACvD,GAAuB,OAAnB2B,GAAqD,IAA1BA,EAAe1B,OAG1C,OAFAC,QAAQC,IAAI,qBACZjB,EAAKK,SAASa,iBAAiB,QAASX,GAI5C,MAAMa,EAAmBqB,EAAepB,KAAIf,MAAOoC,IAC/C,MAAMnB,QAAiB,EAAAC,EAAAC,YAAW1B,EAAA2B,cAAe3B,EAAA4B,iBAAkBe,EAAI3C,EAAA6B,SACjEC,QAAqBN,EAASO,KAC9BC,EAAeF,EAAaG,OAAOX,KAAIY,GAAMA,EAAGC,OAAMC,KAAK,MAEjE,OADaC,EAASP,EAAcE,EACzB,IAETM,QAAmBC,QAAQC,IAAInB,GACrCpB,EAAKC,UAAUuC,mBAAmB,YAAaH,EAAWF,KAAK,KAC/DnC,EAAKK,SAASa,iBAAiB,QAASX,E,CAG5C,SAASoC,EAAQC,EAAUC,EAAOC,EAAUC,GACxC,IAAIC,EAAO,GAEX,OADqBA,EAAR,OAAbF,EAA4BC,EAAgB,GAAGH,IAAWC,IAAQC,IAC3DE,C,CAGX,SAASZ,EAASa,EAAKC,GACnB,MAAO,iMAKuBP,EACV5C,EAAAoD,aACApD,EAAAqD,cACAH,EAAII,YACJtD,EAAAuD,uKAKUX,EACV5C,EAAAoD,aACApD,EAAAwD,aACAN,EAAII,YACJtD,EAAAyD,0JAKUb,EACV5C,EAAAoD,aACApD,EAAA0D,aACAR,EAAII,YACJtD,EAAA2D,wPAOOT,EAAIU,uKAIAV,EAAIW,oLAKIX,EAAIU,qEACAT,6DACAD,EAAIY,aAAaC,MAAM,EAAG,8C,CAxHzEjD,aAAakD,QAAQ,QAASpD,KAAKqD,UAFnB,CAAC,QAAS,MAAO,KAAM,aAGvCnD,aAAakD,QAAQ,UAAWpD,KAAKqD,UAFd,CAAC,QAAQ,UAAW,KAAM,SAMjD9D,SAASgB,iBAAiB,mBAAoBC,GAC9CnB,EAAKK,SAASa,iBAAiB,QAASX,GACxCP,EAAKI,WAAWc,iBAAiB,QAASC,G","sources":["src/my-library.js","src/partials-js/watchedQueueSet.js"],"sourcesContent":["import './partials-js/refs';\nimport './partials-js/vars';\nimport './partials-js/onLoadPage';\nimport './partials-js/themeSwitch';\nimport './partials-js/authorization';\nimport './partials-js/openModal';\nimport './partials-js/addToWatch';\nimport './partials-js/watchedQueueSet';\nimport './partials-js/tuiPagination';\nimport './partials-js/footer-modal';\nimport './partials-js/closePreloader';\n","import {\n    API_KEY,\n    MAIN_PART_URL,\n    MOVIE_BY_ID_PART,\n    MOBILE_STUB,\n    TABLET_STUB,\n    DESKTOP_STUB,\n    BASE_IMG_URL,\n    DESKTOP_SIZES,\n    TABLET_SIZES,\n    MOBILE_SIZES\n} from './vars';\nimport { requestGet } from './requestGet';\n\nconst refs = {\n    movieList: document.querySelector('.movie__collection'),\n    watchedBtn: document.querySelector('input[value=\"Watched\"]'),\n    queueBtn: document.querySelector('input[value=\"Queue\"]'),\n}\n\n// --------- Тимчасово-----------//\n\nconst arrOfId = ['76600', '550', '12', '1038779'];\nconst arrOfIdwatched = ['76600','1038779', '12', '550'];\nlocalStorage.setItem(\"queue\", JSON.stringify(arrOfId));\nlocalStorage.setItem(\"watched\", JSON.stringify(arrOfIdwatched));\n\n//------------------------------//\n\ndocument.addEventListener('DOMContentLoaded', onWatchedBtnClick);\nrefs.queueBtn.addEventListener('click', onQueueBtnClick);\nrefs.watchedBtn.addEventListener('click', onWatchedBtnClick);\n\nasync function onQueueBtnClick() {\n    refs.queueBtn.removeEventListener('click', onQueueBtnClick);\n    refs.movieList.innerHTML = '';\n\n    const arrOfQueueId = JSON.parse(localStorage.getItem(\"queue\"));\n    if (arrOfQueueId === null || arrOfQueueId.length === 0) {\n        console.log('фільмів нема');\n        refs.watchedBtn.addEventListener('click', onWatchedBtnClick);\n        return;\n    }\n\n    // function checkStorage(key) {\n    //     const arrOfId = JSON.parse(localStorage.getItem(key));\n    //     if (arrOfId === null || arrOfId.length === 0) {\n    //         console.log('Фільмів нема');\n    //         refs.watchedBtn.addEventListener('click', onWatchedBtnClick);\n    //         return;\n    //     }\n    //     return arrOfId;\n    // }\n\n    const arrPromisesCards = arrOfQueueId.map(async (el) => {\n        const response = await requestGet(MAIN_PART_URL, MOVIE_BY_ID_PART, el, API_KEY);\n        const objDataMovie = await response.data;\n        console.log(objDataMovie);\n        const genresString = objDataMovie.genres.map(el => el.name).join(', ');\n        // console.log(genresString);\n        const card = makeCard(objDataMovie, genresString);\n        return card;\n    });\n\n    const arrOfCards = await Promise.all(arrPromisesCards);\n    refs.movieList.insertAdjacentHTML('beforeend', arrOfCards.join(''));\n    refs.watchedBtn.addEventListener('click', onWatchedBtnClick);\n}\n\nasync function onWatchedBtnClick() {\n    refs.watchedBtn.removeEventListener('click', onWatchedBtnClick);\n    refs.movieList.innerHTML = '';\n\n    const arrOfWatchedId = JSON.parse(localStorage.getItem(\"watched\"));\n    if (arrOfWatchedId === null || arrOfWatchedId.length === 0) {\n        console.log('фільмів нема');\n        refs.queueBtn.addEventListener('click', onQueueBtnClick);\n        return;\n    }\n\n    const arrPromisesCards = arrOfWatchedId.map(async (el) => {\n        const response = await requestGet(MAIN_PART_URL, MOVIE_BY_ID_PART, el, API_KEY);\n        const objDataMovie = await response.data;\n        const genresString = objDataMovie.genres.map(el => el.name).join(', ');\n        const card = makeCard(objDataMovie, genresString);\n        return card;\n    });\n    const arrOfCards = await Promise.all(arrPromisesCards);\n    refs.movieList.insertAdjacentHTML('beforeend', arrOfCards.join(''));\n    refs.queueBtn.addEventListener('click', onQueueBtnClick);\n}\n\nfunction noPhoto(base_url, width, img_file, stub) {\n    let strM = '';\n    img_file === null ? (strM = stub) : (strM = `${base_url}${width}${img_file}`);\n    return strM;\n}\n\nfunction makeCard(obj, genrStr) {\n    return `\n        <li class=\"movie__card\">\n            <div class=\"movie__img__box\">\n                <picture class=\"film-list__img\">\n                    <source\n                        srcset=\"${noPhoto(\n                        BASE_IMG_URL,\n                        DESKTOP_SIZES,\n                        obj.poster_path,\n                        DESKTOP_STUB\n                      )}\"\n                        media=\"screen and (min-width:1200px)\"\n                    />\n                    <source\n                        srcset=\"${noPhoto(\n                        BASE_IMG_URL,\n                        TABLET_SIZES,\n                        obj.poster_path,\n                        TABLET_STUB\n                      )}\"\n                        media=\"(min-width:768px)\"\n                    />\n                    <source\n                        srcset=\"${noPhoto(\n                        BASE_IMG_URL,\n                        MOBILE_SIZES,\n                        obj.poster_path,\n                        MOBILE_STUB\n                      )}\"\n                        media=\"(max-width:767px)\"\n                    />\n                    <img\n                        class=\"movie__img\"\n                        src=\"./images/no-Film-Img.jpg\"\n                        alt=\"${obj.original_title}\"\n                        width=\"450\"\n                        height=\"294\"\n                        name=\"Poster\"\n                        data-id=\"${obj.id}\"\n                    />\n                </picture>           \n            </div>\n            <div class=\"movie__card__textbox\">\n                <h3 class=\"movie__title\">${obj.original_title}</h3>\n                <span class=\"movie__details\">${genrStr} | </span>\n                <span class=\"movie__details\">${obj.release_date.slice(0, 4)}</span>\n            </div>\n        </li>`;\n}"],"names":["parcelRequire","$4zEvq","$b298eec236d1ea1e$var$refs","movieList","document","querySelector","watchedBtn","queueBtn","async","$b298eec236d1ea1e$var$onQueueBtnClick","removeEventListener","innerHTML","arrOfQueueId","JSON","parse","localStorage","getItem","length","console","log","addEventListener","$b298eec236d1ea1e$var$onWatchedBtnClick","arrPromisesCards","map","el1","response","$eFZ6H","requestGet","MAIN_PART_URL","MOVIE_BY_ID_PART","API_KEY","objDataMovie","data","genresString","genres","el","name","join","$b298eec236d1ea1e$var$makeCard","arrOfCards","Promise","all","insertAdjacentHTML","arrOfWatchedId","el2","$b298eec236d1ea1e$var$noPhoto","base_url","width","img_file","stub","strM","obj","genrStr","BASE_IMG_URL","DESKTOP_SIZES","poster_path","DESKTOP_STUB","TABLET_SIZES","TABLET_STUB","MOBILE_SIZES","MOBILE_STUB","original_title","id","release_date","slice","setItem","stringify"],"version":3,"file":"my-library.ac483148.js.map"}