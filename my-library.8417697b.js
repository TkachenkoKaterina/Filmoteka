!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=n.parcelRequire8995;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){r[e]=n},n.parcelRequire8995=a),a("lCBcW"),a("fNJtc"),a("a7wDZ"),a("akt4g"),a("dapb3"),a("29v78"),a("22Evw"),a("9CR2X"),a("jCSgV");var i=a("bpxeT"),c=a("2TvXO"),s=a("fNJtc"),o=a("hANss");refs={movieList:document.querySelector(".movie__collection"),watchedBtn:document.querySelector('input[value="Watched"]'),queueBtn:document.querySelector('input[value="Queue"]')},console.log(refs.movieList);function u(){return l.apply(this,arguments)}function l(){return l=e(i)(e(c).mark((function n(){var t,r,a;return e(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(refs.queueBtn.removeEventListener("click",u),refs.movieList.innerHTML="",null!==(t=JSON.parse(localStorage.getItem("queue")))&&0!==t.length){n.next=7;break}return console.log("фільмів нема"),refs.watchedBtn.addEventListener("click",d),n.abrupt("return");case 7:return r=t.map(function(){var n=e(i)(e(c).mark((function n(t){var r,a,i,u;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.requestGet)(s.MAIN_PART_URL,s.MOVIE_BY_ID_PART,t,s.API_KEY);case 2:return r=e.sent,e.next=5,r.data;case 5:return a=e.sent,console.log(a),i=a.genres.map((function(e){return e.name})).join(", "),u=_(a,i),e.abrupt("return",u);case 10:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),n.next=10,Promise.all(r);case 10:a=n.sent,refs.movieList.insertAdjacentHTML("beforeend",a.join("")),refs.watchedBtn.addEventListener("click",d);case 13:case"end":return n.stop()}}),n)}))),l.apply(this,arguments)}function d(){return f.apply(this,arguments)}function f(){return f=e(i)(e(c).mark((function n(){var t,r,a;return e(c).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(refs.watchedBtn.removeEventListener("click",d),refs.movieList.innerHTML="",null!==(t=JSON.parse(localStorage.getItem("watched")))&&0!==t.length){n.next=7;break}return console.log("фільмів нема"),refs.queueBtn.addEventListener("click",u),n.abrupt("return");case 7:return r=t.map(function(){var n=e(i)(e(c).mark((function n(t){var r,a,i,u;return e(c).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.requestGet)(s.MAIN_PART_URL,s.MOVIE_BY_ID_PART,t,s.API_KEY);case 2:return r=e.sent,e.next=5,r.data;case 5:return a=e.sent,console.log(a),i=a.genres.map((function(e){return e.name})).join(", "),u=_(a,i),e.abrupt("return",u);case 10:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),n.next=10,Promise.all(r);case 10:a=n.sent,refs.movieList.insertAdjacentHTML("beforeend",a.join("")),refs.queueBtn.addEventListener("click",u);case 13:case"end":return n.stop()}}),n)}))),f.apply(this,arguments)}function p(e,n,t,r){return null===t?r:"".concat(e).concat(n).concat(t)}function _(e,n){return'\n        <li class="movie__card">\n            <div class="movie__img__box">\n                <picture class="film-list__img">\n                    <source\n                        srcset="'.concat(p(s.BASE_IMG_URL,s.DESKTOP_SIZES,e.poster_path,s.DESKTOP_STUB),'"\n                        media="screen and (min-width:1200px)"\n                    />\n                    <source\n                        srcset="').concat(p(s.BASE_IMG_URL,s.TABLET_SIZES,e.poster_path,s.TABLET_STUB),'"\n                        media="(min-width:768px)"\n                    />\n                    <source\n                        srcset="').concat(p(s.BASE_IMG_URL,s.MOBILE_SIZES,e.poster_path,s.MOBILE_STUB),'"\n                        media="(max-width:767px)"\n                    />\n                    <img\n                        class="movie__img"\n                        src="./images/no-Film-Img.jpg"\n                        alt="').concat(e.original_title,'"\n                        width="450"\n                        height="294"\n                        name="Poster"\n                        data-id="').concat(e.id,'"\n                    />\n                </picture>           \n            </div>\n            <div class="movie__card__textbox">\n                <h3 class="movie__title">').concat(e.original_title,'</h3>\n                <span class="movie__details">').concat(n,' | </span>\n                <span class="movie__details">').concat(e.release_date.slice(0,4),"</span>\n            </div>\n        </li>")}localStorage.setItem("queue",JSON.stringify(["76600","550","12","1038779"])),localStorage.setItem("watched",JSON.stringify(["76600","1038779","12","550"])),document.addEventListener("DOMContentLoaded",d),refs.queueBtn.addEventListener("click",u),refs.watchedBtn.addEventListener("click",d),a("kAdTe"),a("5C5W4")}();
//# sourceMappingURL=my-library.8417697b.js.map
